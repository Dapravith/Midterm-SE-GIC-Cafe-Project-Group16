<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New Drink</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        button:hover {
            box-shadow: 0 14px 15px 0 rgba(36, 149, 198, 0.921), 0 17px 60px 0 rgba(90, 81, 81, 0.19);
        }

        .text-center {
            color: rgb(54, 54, 58);
            justify-content: center;
            font-weight: bold;
        }
    </style>
</head>

<body class="m-10 text-lg">
    <!-- CRUD PRODUCTS -->
    <div class="new_drink w-[60%] h-fit m-auto  border-[2px] border-solid border-[#4B371C] ">
        <div class="p-3 head">
            <h2 class="text-center">New Drinks</h2>
        </div>
        <div class="w-[100%] border-[1px] border-solid border-[#4B371C]"></div>
        <div class="flex">
            <div class="add_drink w-[60%]">
                <div class="py-3 ">
                    <form action="#" class="p-5 ">
                        <div class="grid grid-cols-2 mt-3">
                            <label class="mr-5" for="dcode">Drinks code :</label>
                            <input type="text" id="dcode" name="" class="p-1 border-[1px] border-solid border-[#4B371C] rounded" placeholder="">
                        </div>
                        <div class="grid grid-cols-2 mt-3">
                            <label class="mr-5" for="dname">Drinks name :</label>
                            <input type="text" id="dname" name="" class="p-1 border-[1px] border-solid border-[#4B371C] rounded" placeholder="">
                        </div>
                        <div class="grid grid-cols-2 mt-3">
                            <label class="mr-5" for="category">Category :</label>
                            <div class="flex justify-between">
                                <select type="add-item" id="category" name="" class="w-full p-1 border-[1px] border-solid border-[#4B371C] rounded" placeholder="">
                                    <option value="1">Hot Drinks</option >
                                    <option value="2" >Cool Drinks</option >
                                    <option value="3" >Frappe</option >
                                    <option value="4" >Milk Tea</option >
                                </select>
                                <button id="add_category" class=" w-fit h-fit bg-[#3CB043] text-center text-white font-bold cursor-pointer duration-100 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[30px] h-[30px] " onclick="showPopup()">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                                    </svg>
                                </button>

                            </div>

                        </div>

                        <div class="grid grid-cols-2 mt-3">
                            <label class="mr-5" for="price">Price($) :</label>
                            <input name="" min="0" type="number" id="price" class="p-1 border-[1px] border-solid border-[#4B371C] rounded" placeholder="">
                        </div>
                        <div class="grid grid-cols-2 mt-3">
                            <label class="mr-5" for="note">Note :</label>
                            <textarea id="note" cols="50" rows="6" name="" class="p-1 w-full border-[1px] border-solid border-[#4B371C] rounded resize-x"> </textarea>
                        </div>
                    </form>
                </div>
                <br />
                <div>
                    <button class=" py-3 bg-[#3CB043] text-center text-white font-bold px-20 m-3 inline-block cursor-pointer duration-100 rounded-lg">OK</button>
                    <button class=" py-3 px-5 bg-[#FDA172] text-center text-white  font-bold p-3 m-3 inline-block cursor-pointer duration-100 rounded-lg">Cancel</button>
                </div>
            </div>
            <!-- images -->
            <div class="ml-5 img">
                <form action="#">
                    <input id="file-input" type="file" name="file" hidden accept="image/*">
                    <label for="file-input" class="cursor-pointer">
                        <div id="image-preview" class="w-[400px] h-fit p-3 border-[#4B371C]">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.6" stroke="currentColor" class="w-full h-full text-gray-500">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                            </svg>
                        </div>
                    </label>
                </form>
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
    <!-- ADD NEW CATEGORY -->
    <div class="popup w-[100vw] h-[100vh] absolute top-[0] left-[0] bg-[#f1f1f199] hidden z-[100]">
        <main class="w-[20rem] absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]">
            <div class="none w-full h-fit m-auto  border-[2px] border-solid border-[#4B371C]">
                <div class="p-3 head">
                    <h2 class="text-center">New Category</h2>
                </div>
                <div class="w-[100%] border-[1px] border-solid border-[#4B371C]"></div>
                <div class="">
                    <form action="#" class="p-3 add_category">
                        <div class="grid grid-cols-2 mt-3">
                            <label for="gcode">Category code :</label>
                            <input type="text" id="dcode" name="" class="category_code border-[1px] border-solid border-[#4B371C] rounded" placeholder="" required>
                        </div>
                        <div class="grid grid-cols-2 mt-3">
                            <label for="gname">Category name :</label>
                            <input type="text" id="gname" name="" class="w-full category_name border-[1px] border-solid border-[#4B371C] rounded" placeholder="" required>
                        </div>
                        <br />
                        <div class="flex">
                            <input id="okay" type="submit" value="OK" class=" py-3 bg-[#3CB043] text-center font-bold text-white px-16 in m-3 p-3 line-block cursor-pointer duration-100 rounded-lg">
                            <button class="cancel py-3 px-5 bg-[#FDA172] text-center font-bold text-white p-3 m-3 inline-block cursor-pointer duration-100 rounded-lg">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </main>

    </div>
    <script>
        const addNewCat = document.getElementById("add_category");
        const popup = document.querySelector(".popup");
        const form_add_category = document.querySelector(".add_category");
        const imagePreview = document.getElementById("image-preview");
        const fileInput = document.getElementById("file-input");

        addNewCat.addEventListener("click", showPopup);

        function showPopup() {
            popup.classList.remove("hidden");
        }

        form_add_category.addEventListener("submit", () => {
            clear();
            popup.classList.add("hidden");
        });

        document.querySelector(".cancel").addEventListener("click", () => {
            clear();
            popup.classList.add("hidden");
        });

        popup.addEventListener("click", (e) => {
            const target = e.target;

            if (target.classList.contains("popup")) {
                clear();
                popup.classList.add("hidden");
            }
        });

        function readImage(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();

                reader.onload = function(e) {
                    const fileName = input.files[0].name;

                    imagePreview.innerHTML = `
                  <div class="image-container">
                    <img src="${e.target.result}" alt="Category Image">
                    <p class="image-name">${fileName}</p>
                  </div>
                  <div class="flex justify-center mt-2">
                    <button class="flex items-center px-4 py-2 text-sm font-medium text-white bg-red-700 rounded-md hover:bg-red-900">
                      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                      </svg>
                      Delete
                    </button>
                  </div>
                `;

                    const deleteButton = imagePreview.querySelector(".delete-image");
                    deleteButton.addEventListener("click", () => {
                        clearImagePreview();
                    });
                };

                reader.readAsDataURL(input.files[0]);
            }
        }



        fileInput.addEventListener("change", function() {
            readImage(this);
        });

        function clear() {
            document.getElementById("dcode").value = "";
            document.getElementById("gname").value = "";
            fileInput.value = "";
            clearImagePreview();
        }

        function clearImagePreview() {
            const imageContainer = document.querySelector(".image-container");
            if (imageContainer) {
                imageContainer.remove();
            }
        }
    </script>
</body>

</html>