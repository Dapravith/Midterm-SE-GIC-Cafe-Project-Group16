<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Calculate</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Maven+Pro&display=swap");
        * {
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: "Maven Pro", sans-serif;
        }
        
        .main_wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        
        .wrapper_container {
            width: 25rem;
            height: 33rem;
            border: 1px solid black;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            background-color: #eefbfb;
            box-shadow: rgba(50, 50, 93, 0.25) 0px 6px 12px -2px, rgba(0, 0, 0, 0.3) 0px 3px 7px -3px;
        }
        
        .first_row {
            display: flex;
            gap: 1rem;
        }
        
        .second_row {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .third_row {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .zero_row {
            display: flex;
            justify-content: center;
            margin-top: 1rem;
            gap: 1rem;
        }
        
        .box {
            background-color: #000080;
            width: 4rem;
            height: 4rem;
            font-size: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }
        
        .box_cancel {
            background-color: rgb(30, 144, 255);
            width: 7rem;
            height: 4rem;
            font-size: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }
        
        .box_cancel:hover {
            background-color: orange;
            color: white;
        }
        
        .box_ok {
            background-color: rgb(30, 144, 255);
            width: 7rem;
            height: 4rem;
            font-size: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }
        
        .box_ok:hover {
            background-color: orange;
            color: white;
        }
        
        .box_ {
            background-color: rgb(30, 144, 255);
            width: 7rem;
            height: 4rem;
            font-size: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }
        
        .box_delete {
            background-color: rgb(30, 144, 255);
            width: 7rem;
            height: 4rem;
            font-size: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }
        
        .box_delete:hover {
            background-color: orange;
            color: white;
        }
        
        .box:hover {
            background-color: orange;
            color: white;
        }
        
        a {
            text-decoration: none;
            color: white;
        }
        
        .number_box {
            margin-bottom: 0.5rem;
            width: 22rem;
            height: 4rem;
            border: 1px solid black;
            color: black;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        
        .total_change_row {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
    </style>
</head>

<body>
    <div class="main_wrapper">
        <div class="wrapper_container">
            <div class="number-box">
                <div class="number_box"></div>
            </div>
            <div class="total_change_row">
                <span>Total: </span>
                <span>Change: </span>
            </div>
            <!-- row 1 -->
            <div class="first_row">
                <div class="box 1"><a href="#">1</a></div>
                <div class="box 2"><a href="#">2</a></div>
                <div class="box 3"><a href="#">3</a></div>
                <div class="box_"></div>
            </div>
            <div class="second_row">
                <div class="box 4"><a href="#">4</a></div>
                <div class="box 5"><a href="#">5</a></div>
                <div class="box 6"><a href="#">6</a></div>
                <div class="box_delete"><a href="#">Delete</a></div>
            </div>
            <div class="third_row">
                <div class="box 7"><a href="#">7</a></div>
                <div class="box 8"><a href="#">8</a></div>
                <div class="box 9"><a href="#">9</a></div>
                <div class="box_ok"><a href="#">OK</a></div>
            </div>
            <div class="zero_row">
                <div class="box ."><a href="#">.</a></div>
                <div class="box 0"><a href="#">0</a></div>
                <div class="box *">
                    <a href=""></a>
                </div>
                <div class="box_cancel"><a href="#">Cancel</a></div>
            </div>
        </div>
    </div>

    <script>
        let totalAmount = 0;
        let displayValue = ""; // Track the displayed value in the calculator

        const numberButtons = document.querySelectorAll(".box");

        numberButtons.forEach((button) => {
            button.addEventListener("click", () => {
                const value = button.textContent;

                // Handle decimal point input
                if (value === ".") {
                    if (displayValue.includes(".")) return; // Prevent multiple decimal points
                    displayValue += value;
                } else {
                    displayValue += value;
                }

                totalAmount = eval(displayValue); // Evaluate the expression

                document.querySelector(".number_box").textContent = totalAmount.toFixed(2);
            });
        });

        const deleteButton = document.querySelector(".box_delete");
        deleteButton.addEventListener("click", () => {
            displayValue = "";
            totalAmount = 0;
            document.querySelector(".number_box").textContent = totalAmount.toFixed(2);
        });

        const checkoutButton = document.querySelector(".box_ok");
        checkoutButton.addEventListener("click", () => {
            const paymentAmount = parseFloat(prompt("Enter payment amount in USD:"));

            if (isNaN(paymentAmount)) {
                alert("Invalid payment amount. Please enter a valid number.");
                return;
            }

            const change = paymentAmount - totalAmount;

            if (change < 0) {
                alert("Insufficient payment. Please enter a higher amount.");
                return;
            }

            const alertMessage = `
    <div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
        <div class="p-4 bg-white rounded shadow-lg">
            <div class="mb-4 text-lg font-bold">Payment Successful!</div>
            <div class="mb-4">Total (Integer): ${Math.floor(totalAmount)} USD</div>
            <div class="mb-4">Total (Decimal): ${totalAmount.toFixed(2)} USD</div>
            <div class="mb-4">Change: ${change.toFixed(2)} USD</div>
            <div class="flex justify-end">
                <button class="px-4 py-2 mr-2 text-white bg-red-500 rounded" id="closeButton">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4">
                        <path d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
                <button class="px-4 py-2 text-white bg-green-500 rounded" id="okButton">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4">
                        <path d="M5 13l4 4L19 7"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
  `;

            const alertContainer = document.createElement("div");
            alertContainer.innerHTML = alertMessage;
            document.body.appendChild(alertContainer);

            const closeButton = document.getElementById("closeButton");
            closeButton.addEventListener("click", () => {
                document.body.removeChild(alertContainer);
            });

            const okButton = document.getElementById("okButton");
            okButton.addEventListener("click", () => {
                displayValue = "";
                totalAmount = 0;
                document.querySelector(".number_box").textContent = totalAmount.toFixed(2);
                document.body.removeChild(alertContainer);
            });
        });
    </script>

</body>

</html>